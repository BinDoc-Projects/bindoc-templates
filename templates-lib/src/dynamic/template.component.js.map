{"version":3,"file":"template.component.js","sourceRoot":"","sources":["template.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAqG;AAErG,qEAAkE;AAQlE;IAOE,oCACU,wBAAkD;QAAlD,6BAAwB,GAAxB,wBAAwB,CAA0B;IAG5D,CAAC;IAED,gDAAW,GAAX,UAAY,OAAY;QACtB,EAAE,CAAA,CAAC,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAEM,iDAAY,GAAnB;QACE,IAAI,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrF,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;QAC5C,IAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAElF,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAvBQ;QAAR,YAAK,EAAE;kCAAW,WAAI;gEAAa;IAC3B;QAAR,YAAK,EAAE;;4DAAsB;IAEM;QAAnC,gBAAS,CAAC,iDAAuB,CAAC;kCAAgB,iDAAuB;qEAAC;IALhE,0BAA0B;QANtC,gBAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;YAC/B,QAAQ,EAAE,qCAET;SACF,CAAC;yCASoC,+BAAwB;OARjD,0BAA0B,CA0BtC;IAAD,iCAAC;CAAA,AA1BD,IA0BC;AA1BY,gEAA0B","sourcesContent":["import {Component, ComponentFactoryResolver, Input, OnChanges, Type, ViewChild} from '@angular/core';\nimport {BdTemplate, BdTemplateData} from './abstract-template.model';\nimport {BdTemplateHostDirective} from './template-host.directive';\n\n@Component({\n  selector: 'bd-dynamic-template',\n  template: `\n    <div template-host></div>\n  `\n})\nexport class BdDynamicTemplateComponent implements OnChanges {\n\n  @Input() template: Type<BdTemplate>;\n  @Input() data: BdTemplateData;\n\n  @ViewChild(BdTemplateHostDirective) eTemplateHost: BdTemplateHostDirective;\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) {\n\n  }\n\n  ngOnChanges(changes: any): void {\n    if(changes.template || changes.data) {\n      this.loadTemplate();\n    }\n  }\n\n  public loadTemplate() {\n    let component = this.componentFactoryResolver.resolveComponentFactory(this.template);\n    this.eTemplateHost.viewContainerRef.clear();\n    let componentRef = this.eTemplateHost.viewContainerRef.createComponent(component);\n\n    componentRef.instance.init(this.data);\n  }\n}\n"]}